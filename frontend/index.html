<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Share it</title>
	<script>
        "use strict";

        function load_files() {
            let req = new XMLHttpRequest();
            req.open("GET", "/index", false);
            req.send();
            return JSON.parse(req.responseText);
        }

        function display_files(files) {
            let filesView = document.getElementById("files_view");
            let text = files.reduce((accumulator, filename) =>
                    accumulator += `</li><a href="s/${encodeURI(filename)}">${filename}</a><br>`,
                "");
            filesView.innerHTML = text;
        }

        let files = load_files();
        window.onload = () => display_files(files);
	</script>
</head>
<body>
	<h1>Share it</h1>
	Your files:
	<br>
	<div id="files_view">
	</div>
</body>
</html>